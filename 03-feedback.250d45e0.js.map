{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAsB,sBAEtBC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,SAAUH,SAASC,cAAc,cAUrC,WACI,IACIG,EADEC,EAAYC,aAAaC,QAAQV,GAEvCW,QAAQC,IAAI,YAAaJ,GACrBA,GACAD,EAAkBM,KAAKC,MAAMN,GAE7BG,QAAQC,IAAI,wBAAyBL,EAAgBQ,OACrDJ,QAAQC,IAAI,0BAA2BL,EAAgBS,SACvDf,EAAKI,MAAMY,MAAQV,EAAgBQ,OAAS,GAC5Cd,EAAKK,SAASW,MAAQV,EAAgBS,SAAW,IAEjDT,EAAkB,GAEtBI,QAAQC,IAAI,kBAAmBL,GArBnCW,GAEAjB,EAAKC,KAAKiB,iBAAiB,UAuB3B,SAAsBC,GAGlB,GAFAA,EAAMC,iBAEmB,KAArBpB,EAAKI,MAAMY,OAAsC,KAAtBhB,EAAKK,SAASW,MAEzC,YADAK,MAAM,8BAMVb,aAAac,WAAWvB,GACxBC,EAAKC,KAAKsB,WAjCdvB,EAAKC,KAAKiB,iBAAiB,QAASM,EAAA3B,EAAA,EAoCpC,SAAuBsB,GACf,IACAb,EADMC,EAAYC,aAAaC,QAAQV,GAE3CW,QAAQC,IAAI,YAAaJ,GAErBD,EADAC,EACkBK,KAAKC,MAAMN,GAGX,GAGtBD,EAAgBa,EAAMM,OAAOC,MAAQP,EAAMM,OAAOT,MAE9ChB,EAAKI,MAAMY,MAAQV,EAAgBQ,OAAS,GAC5Cd,EAAKK,SAASW,MAAQV,EAAgBS,SAAW,GAE/CP,aAAamB,QAAQ5B,EAAqBa,KAAKgB,UAAUtB,MApDP","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst KEY_TO_LOCALSTORAGE = \"feedback-form-state\";\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('input'),\n    textarea: document.querySelector('textarea'),\n};\n\ninitFeedbackPage();\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onInputChange, 500))\n\n\n\nfunction initFeedbackPage() {\n    const savedData = localStorage.getItem(KEY_TO_LOCALSTORAGE);\n    let parsedSavedData;\n    console.log('savedData', savedData);\n    if (savedData) {\n        parsedSavedData = JSON.parse(savedData);\n        \n        console.log('parsedSavedData.email', parsedSavedData.email);\n        console.log('parsedSavedData.message', parsedSavedData.message);\n        refs.input.value = parsedSavedData.email || \"\";\n        refs.textarea.value = parsedSavedData.message || \"\";\n    } else {\n        parsedSavedData = {};\n    }\n    console.log('parsedSavedData', parsedSavedData);\n}\n\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    if (refs.input.value === \"\" || refs.textarea.value===\"\") {\n        alert('Please fill in all fields!');\n        return;\n    };\n\n\n   \n    localStorage.removeItem(KEY_TO_LOCALSTORAGE);\n    refs.form.reset();    \n}\n\nfunction onInputChange(event) {\n        const savedData = localStorage.getItem(KEY_TO_LOCALSTORAGE);\n    let parsedSavedData;\n    console.log('savedData', savedData);\n    if (savedData) {\n        parsedSavedData = JSON.parse(savedData);\n        \n    } else {\n        parsedSavedData = {};\n    }\n    \n    parsedSavedData[event.target.name] = event.target.value;\n\n        refs.input.value = parsedSavedData.email || \"\";\n        refs.textarea.value = parsedSavedData.message || \"\";\n    \n          localStorage.setItem(KEY_TO_LOCALSTORAGE, JSON.stringify(parsedSavedData));\n}"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$KEY_TO_LOCALSTORAGE","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","parsedSavedData","savedData","localStorage","getItem","console","log","JSON","parse","email","message","value","$b00c40859be242c5$var$initFeedbackPage","addEventListener","event","preventDefault","alert","removeItem","reset","$parcel$interopDefault","target","name","setItem","stringify"],"version":3,"file":"03-feedback.250d45e0.js.map"}