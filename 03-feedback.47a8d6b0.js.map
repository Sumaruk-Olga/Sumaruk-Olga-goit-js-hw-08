{"mappings":"iiBAAA,IAcIA,EAdJC,EAAAC,EAAA,SAEMC,EAAsB,sBAEtBC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,SAAUH,SAASC,cAAc,aAIrCH,EAAKC,KAAKK,iBAAiB,UAyB3B,SAAsBC,GAGlB,GAFAA,EAAMC,iBAEmB,KAArBR,EAAKI,MAAMK,OAAsC,KAAtBT,EAAKK,SAASI,MAEzC,YADAC,MAAM,8BAMVC,aAAaC,WAAWb,GACxBC,EAAKC,KAAKY,WAnCdb,EAAKC,KAAKK,iBAAiB,QAASQ,EAAAjB,EAAA,EAsCpC,SAAuBU,GAEfX,EAASW,EAAMQ,OAAOC,MAAQT,EAAMQ,OAAON,MAE3CE,aAAaM,QAAQlB,EAAqBmB,KAAKC,UAAUvB,IACzDwB,QAAQC,IAAIzB,GACZwB,QAAQC,IAAIV,aAAaW,QAAQvB,MA5CmB,MAO5D,WACI,IAAMwB,EAAYZ,aAAaW,QAAQvB,GAEvC,GAAIwB,EAAW,CACX,IAAMC,EAAkBN,KAAKO,MAAMF,GAEnCvB,EAAKI,MAAMK,MAAQe,EAAgBE,MACnC1B,EAAKK,SAASI,MAAQe,EAAgBG,aAEtC/B,EAAW,GACXI,EAAKI,MAAMK,MAAQ,GACnBT,EAAKK,SAASI,MAAQ,GAd9BmB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst KEY_TO_LOCALSTORAGE = \"feedback-form-state\";\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('input'),\n    textarea: document.querySelector('textarea'),\n};\n\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onInputChange, 500))\n\nlet formData;\n\ninitFeedbackPage();\n\n\nfunction initFeedbackPage() {\n    const savedData = localStorage.getItem(KEY_TO_LOCALSTORAGE);    \n\n    if (savedData) {        \n        const parsedSavedData = JSON.parse(savedData);       \n\n        refs.input.value = parsedSavedData.email;\n        refs.textarea.value = parsedSavedData.message;        \n    } else {\n        formData = {};\n        refs.input.value = \"\";\n        refs.textarea.value = \"\";\n    }\n\n}\n\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    if (refs.input.value === \"\" || refs.textarea.value===\"\") {\n        alert('Please fill in all fields!');\n        return;\n    };\n\n\n   \n    localStorage.removeItem(KEY_TO_LOCALSTORAGE);\n    refs.form.reset();    \n}\n\nfunction onInputChange(event) {\n    \n        formData[event.target.name] = event.target.value;\n\n        localStorage.setItem(KEY_TO_LOCALSTORAGE, JSON.stringify(formData));  \n        console.log(formData);\n        console.log(localStorage.getItem(KEY_TO_LOCALSTORAGE));\n}"],"names":["$b00c40859be242c5$var$formData","$dCfNN","parcelRequire","$b00c40859be242c5$var$KEY_TO_LOCALSTORAGE","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","addEventListener","event","preventDefault","value","alert","localStorage","removeItem","reset","$parcel$interopDefault","target","name","setItem","JSON","stringify","console","log","getItem","savedData","parsedSavedData","parse","email","message","$b00c40859be242c5$var$initFeedbackPage"],"version":3,"file":"03-feedback.47a8d6b0.js.map"}