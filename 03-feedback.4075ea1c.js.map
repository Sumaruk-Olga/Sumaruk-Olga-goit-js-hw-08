{"mappings":"iiBAAA,IAeIA,EAfJC,EAAAC,EAAA,SAEMC,EAAsB,sBAEtBC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,SAAUH,SAASC,cAAc,aAIrCH,EAAKC,KAAKK,iBAAiB,UAuC3B,SAAsBC,GAGlB,GAFAA,EAAMC,iBAEiB,KAAnBZ,EAASa,OAAqC,KAArBb,EAASc,QAEpC,YADAC,MAAM,mCAIZC,aAAaC,QAAQd,EAAqBe,KAAKC,UAAUnB,IACrDI,EAAKC,KAAKe,QACVJ,aAAaK,WAAWlB,MAhD5BC,EAAKI,MAAME,iBAAiB,QAASY,EAAArB,EAAA,EAqBL,SAATU,GACnBY,QAAQC,IAAIb,EAAMc,OAAOC,OACzB1B,EAASa,MAAQF,EAAMc,OAAOC,MAE9BV,aAAaC,QAAQd,EAAqBe,KAAKC,UAAUnB,MAzBA,MAC7DI,EAAKK,SAASC,iBAAiB,QAASY,EAAArB,EAAA,EA2BxC,SAA0BU,GACtBY,QAAQC,IAAIb,EAAMc,OAAOC,OACzB1B,EAASc,QAAUH,EAAMc,OAAOC,MAEhCV,aAAaC,QAAQd,EAAqBe,KAAKC,UAAUnB,MA/BM,MAQ/DuB,QAAQC,IAAIR,aAAaW,QAAQxB,IAC5Ba,aAAaW,QAAQxB,IAItBH,EAAWkB,KAAKU,MAAMZ,aAAaW,QAAQxB,IAC3CC,EAAKC,KAAKQ,MAAMa,MAAQ1B,EAASa,MACjCT,EAAKC,KAAKS,QAAQY,MAAQ1B,EAASc,UALlCd,EAAW,GACZuB,QAAQC,IAAIxB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst KEY_TO_LOCALSTORAGE = \"feedback-form-state\";\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('input'),\n    textarea: document.querySelector('textarea'),\n};\n\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.input.addEventListener('input', throttle(onInputChange, 500));\nrefs.textarea.addEventListener('input', throttle(onTextareaChange, 500));\n\nlet formData;\n\n//якщо є дані в localStorage, підставити їх в поля форми\ntakeDataFromLocalStorage();\n\nfunction takeDataFromLocalStorage() {    \n    console.log(localStorage.getItem(KEY_TO_LOCALSTORAGE));\n    if (!localStorage.getItem(KEY_TO_LOCALSTORAGE)) {\n         formData = {};\n        console.log(formData);\n    } else {\n        formData = JSON.parse(localStorage.getItem(KEY_TO_LOCALSTORAGE));\n        refs.form.email.value = formData.email;\n        refs.form.message.value = formData.message;\n    };\n}\n\n//внести зміни в поля форми і зберегти їх\nfunction onInputChange(event) {\n    console.log(event.target.value);   \n    formData.email = event.target.value;\n//    console.log(formData);\n    localStorage.setItem(KEY_TO_LOCALSTORAGE, JSON.stringify(formData));    \n}\n\nfunction onTextareaChange(event) {\n    console.log(event.target.value);\n    formData.message = event.target.value;\n    // console.log(formData);\n    localStorage.setItem(KEY_TO_LOCALSTORAGE, JSON.stringify(formData));\n}\n\n\n//внесені зміни відправити в localStorage i очистити форму\n\nfunction onFormSubmit(event) {\n    event.preventDefault();   \n\n    if (formData.email === '' || formData.message === '') {\n      alert('Please, fill in all the fields!');\n      return;\n    };\n\nlocalStorage.setItem(KEY_TO_LOCALSTORAGE, JSON.stringify(formData));\n    refs.form.reset();\n    localStorage.removeItem(KEY_TO_LOCALSTORAGE);\n}\n\n\n"],"names":["$b00c40859be242c5$var$formData","$dCfNN","parcelRequire","$b00c40859be242c5$var$KEY_TO_LOCALSTORAGE","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","addEventListener","event","preventDefault","email","message","alert","localStorage","setItem","JSON","stringify","reset","removeItem","$parcel$interopDefault","console","log","target","value","getItem","parse"],"version":3,"file":"03-feedback.4075ea1c.js.map"}